<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRAZE.AI | Video Library</title>
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        :root {
            --neon-blue: #00f3ff;
            --neon-red: #ff0055;
            --bg-dark: #050505;
        }
        
        body {
            background-color: var(--bg-dark);
            color: #ffffff;
            font-family: 'Rajdhani', sans-serif;
            overflow-x: hidden;
        }

        h1, h2, h3, .brand-font {
            font-family: 'Orbitron', sans-serif;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0a0a0a; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--neon-red); }

        /* Navigation Styles */
        .nav-link { position: relative; }
        .nav-link::after {
            content: ''; position: absolute; width: 0; height: 2px; bottom: -4px; left: 0;
            background-color: var(--neon-red); transition: width 0.3s ease;
        }
        .nav-link:hover::after { width: 100%; }

        /* Card Styles */
        .prompt-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }
        .prompt-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.3);
            border-color: var(--neon-blue);
        }
        /* Gradient Overlay */
        .prompt-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            opacity: 0.6;
            transition: opacity 0.3s ease;
            z-index: 1;
            pointer-events: none;
        }
        .prompt-card:hover::before {
            opacity: 0.3; /* Lighten overlay on hover to see video better */
        }
        
        /* Modal Animation */
        .modal-enter { opacity: 0; transform: scale(0.95); }
        .modal-enter-active { opacity: 1; transform: scale(1); transition: all 0.2s ease-out; }
        .modal-exit { opacity: 1; transform: scale(1); }
        .modal-exit-active { opacity: 0; transform: scale(0.95); transition: all 0.2s ease-in; }

        /* Prompt Text Box Style */
        .prompt-box {
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid var(--neon-blue);
            box-shadow: inset 0 0 10px rgba(0, 243, 255, 0.1);
        }

        /* Pagination Button Style */
        .pagination-btn {
            background: transparent;
            border: 1px solid #333;
            color: #888;
            transition: all 0.3s ease;
        }
        .pagination-btn:hover:not(:disabled) {
            border-color: var(--neon-red);
            color: white;
            box-shadow: 0 0 10px rgba(255, 0, 85, 0.4);
        }
        .pagination-btn.active {
            background: var(--neon-red);
            border-color: var(--neon-red);
            color: white;
        }
        .pagination-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }
    </style>
</head>
<body class="antialiased selection:bg-pink-500 selection:text-white flex flex-col min-h-screen">

    <!-- Header -->
    <header class="fixed w-full top-0 z-50 backdrop-blur-md border-b border-white/10 bg-black/80">
        <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
            <a href="index.html" class="text-3xl font-black italic tracking-tighter text-white hover:text-cyan-400 transition-colors duration-300 brand-font">
                CRAZE<span class="text-pink-600">.AI</span>
            </a>
            
            <button id="mobile-menu-btn" class="md:hidden text-white">
                <i data-lucide="menu" class="w-8 h-8"></i>
            </button>

            <nav id="desktop-nav" class="hidden md:flex space-x-8 text-sm font-bold tracking-widest text-gray-400">
                <a href="index.html#section-modern" class="nav-link hover:text-white transition-colors">MODERN</a>
                <a href="index.html#section-ancient" class="nav-link hover:text-white transition-colors">ANCIENT</a>
                <a href="index.html#section-series" class="nav-link hover:text-white transition-colors">CINEMATIC</a>
                <a href="index.html#section-virtual" class="nav-link hover:text-white transition-colors">PLATE</a>
                <!-- Updated Active Link for VIDEO -->
                <a href="video.html" class="nav-link hover:text-white transition-colors text-yellow-400">VIDEOS</a>
                <a href="prompts.html" class="nav-link hover:text-white transition-colors text-cyan-400">PROMPTS</a>
                <a href="#section-contact" class="nav-link text-pink-500 hover:text-pink-400 transition-colors">CONTACT</a>
            </nav>
        </div>
        
        <!-- Mobile Nav -->
        <div id="mobile-nav" class="md:hidden hidden bg-black border-b border-gray-800 absolute w-full">
            <div class="flex flex-col p-6 space-y-4 font-bold text-center">
                <a href="index.html" class="hover:text-cyan-400">HOME</a>
                <a href="video.html" class="nav-link hover:text-white transition-colors text-yellow-400">VIDEO</a>
                <a href="prompts.html" class="nav-link hover:text-white transition-colors text-cyan-400">PROMPTS</a>
                <a href="#section-contact" class="nav-link hover:text-pink-500 transition-colors text-pink-400">CONTACT</a>
            </div>
        </div>
    </header>

    <!-- Page Title / Hero -->
    <!-- Feel free to change the background image to something more 'video' related -->
    <div class="pt-32 pb-10 text-center border-b border-gray-800 bg-[url('/images/part4/IMG_1902.jpeg')] bg-cover bg-center bg-no-repeat relative">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm"></div>
        <div class="relative z-10">
            <h1 class="text-5xl md:text-7xl font-black italic text-white mb-4"><span class="text-yellow-500">VIDEO</span> ARCHIVE</h1>
            <p class="text-gray-400 font-mono tracking-widest text-sm md:text-base">MOTION IN THE AGE OF AI</p>
        </div>
    </div>

    <!-- Main Content: Video Grid -->
    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 py-12 w-full relative z-10">

        <!-- Grid Container -->
        <!-- Using aspect-[9/16] for vertical video cards -->
        <div id="video-grid" class="grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-8 mb-12">
            <!-- Content injected via JS -->
        </div>

        <!-- Pagination Controls -->
        <div class="flex justify-center items-center space-x-4 mt-12 mb-20">
            <button id="prev-btn" onclick="changePage(-1)" class="pagination-btn px-4 py-2 rounded uppercase font-bold text-sm flex items-center gap-2" disabled>
                <i data-lucide="chevron-left" class="w-4 h-4"></i> Prev
            </button>
            <span id="page-indicator" class="text-cyan-500 font-mono font-bold">PAGE 1 / 1</span>
            <button id="next-btn" onclick="changePage(1)" class="pagination-btn px-4 py-2 rounded uppercase font-bold text-sm flex items-center gap-2" disabled>
                Next <i data-lucide="chevron-right" class="w-4 h-4"></i>
            </button>
        </div>

        <!-- Contact Section -->
        <section id="section-contact" class="py-10 md:py-20 relative border-t border-gray-800">
            <div class="absolute inset-0 flex items-center justify-center opacity-10 pointer-events-none">
                 <h2 class="text-[10rem] md:text-[20rem] font-black text-white whitespace-nowrap">X</h2>
            </div>
            
            <div class="relative z-10 max-w-2xl mx-auto border border-pink-600 bg-black/80 backdrop-blur-xl p-12 text-center shadow-[0_0_30px_rgba(255,0,85,0.2)] rounded-lg">
                <h2 class="text-3xl font-bold mb-8">CONTACT_ME</h2>
                <div class="flex justify-center space-x-8 mb-8">
                      <a href="https://www.crazeai.top/" class="text-gray-400 hover:text-cyan-400 transform hover:scale-125 transition duration-300">
                        <i data-lucide="twitter" class="w-8 h-8"></i>
                      </a>
                      <a href="https://www.crazeai.top/" class="text-gray-400 hover:text-pink-500 transform hover:scale-125 transition duration-300">
                        <i data-lucide="instagram" class="w-8 h-8"></i>
                      </a>
                      <a href="https://www.crazeai.top/" class="text-gray-400 hover:text-purple-500 transform hover:scale-125 transition duration-300">
                        <i data-lucide="mail" class="w-8 h-8"></i>
                      </a>
                </div>
                <a href="mailto:hello@craze.ai" class="text-pink-500 font-mono text-xl hover:text-white transition-colors">hello@craze.ai</a>
            </div>
        </section>

    </main>

    <footer class="border-t border-gray-800 py-8 bg-black mt-auto">
        <div class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center">
            <p class="text-gray-500 text-sm">Â© 2026 CRAZE.AI. Designed for Speed.</p>
            <div class="flex space-x-4 mt-4 md:mt-0 text-gray-600 text-xs tracking-widest uppercase">
                <span class="hover:text-cyan-400 cursor-pointer">Privacy</span>
                <span class="hover:text-cyan-400 cursor-pointer">Terms</span>
                <span class="hover:text-cyan-400 cursor-pointer">Sitemap</span>
            </div>
        </div>
    </footer>

    <!-- Modal for Video Details -->
    <div id="videoModal" class="fixed inset-0 z-[100] hidden" aria-modal="true" role="dialog">
        <!-- Backdrop -->
        <div class="absolute inset-0 bg-black/95 backdrop-blur-md transition-opacity" onclick="closeModal()"></div>
        
        <!-- Modal Content -->
        <div class="absolute inset-0 flex items-center justify-center p-4 pointer-events-none">
            <div class="relative w-full max-w-5xl bg-[#0a0a0a] border border-gray-800 rounded-xl overflow-hidden shadow-[0_0_50px_rgba(0,0,0,0.8)] pointer-events-auto flex flex-col md:flex-row max-h-[90vh]">
                
                <!-- Close Button -->
                <button onclick="closeModal()" class="absolute top-4 right-4 z-20 p-2 bg-black/50 hover:bg-pink-600 text-white rounded-full backdrop-blur-sm transition-colors">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>

                <!-- Video Player Side -->
                <div class="w-full md:w-3/5 bg-black flex items-center justify-center relative">
                    <!-- The modal video player -->
                    <video id="modalVideoPlayer" class="max-w-full max-h-[50vh] md:max-h-[90vh] w-auto h-auto object-contain shadow-lg" controls playsinline loop>
                        <source src="" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>

                <!-- Details Side -->
                <div class="w-full md:w-2/5 p-6 md:p-8 flex flex-col overflow-y-auto custom-scrollbar bg-gradient-to-br from-gray-900 to-black border-l border-gray-800">
                    <div class="mb-4">
                        <span id="modalTool" class="inline-block px-3 py-1 text-xs font-bold tracking-widest uppercase text-black bg-cyan-400 rounded-sm mb-2">SORA</span>
                        <h2 id="modalTitle" class="text-2xl font-bold text-white font-mono">VIDEO TITLE #001</h2>
                    </div>

                    <div class="flex-grow">
                        <label class="block text-pink-500 text-xs font-bold tracking-widest mb-2 uppercase">Prompt / Parameters</label>
                        <div class="relative group">
                            <div id="modalPrompt" class="prompt-box p-4 rounded text-gray-300 font-mono text-sm leading-relaxed min-h-[150px] whitespace-pre-wrap break-words">
                                <!-- Prompt text goes here -->
                            </div>
                            <button onclick="copyPrompt()" class="absolute top-2 right-2 p-2 bg-gray-800 hover:bg-gray-700 rounded text-gray-400 hover:text-white transition-colors" title="Copy to Clipboard">
                                <i data-lucide="copy" class="w-4 h-4"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="mt-6 pt-6 border-t border-gray-800">
                         <button onclick="closeModal()" class="w-full py-3 border border-gray-700 hover:border-cyan-400 text-gray-400 hover:text-cyan-400 transition-all uppercase tracking-widest font-bold text-sm">
                            Close Player
                         </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="fixed bottom-10 left-1/2 transform -translate-x-1/2 bg-cyan-500 text-black px-6 py-3 rounded shadow-[0_0_20px_rgba(0,243,255,0.4)] font-bold tracking-wide transition-all duration-300 opacity-0 translate-y-10 pointer-events-none z-[110]">
        Prompt Copied!
    </div>

    <script>
    // Initialize Lucide Icons
    lucide.createIcons();

    // Mobile Menu Toggle
    const btn = document.getElementById('mobile-menu-btn');
    const menu = document.getElementById('mobile-nav');
    btn.addEventListener('click', () => {
        menu.classList.toggle('hidden');
    });

    // --- GLOBAL VARIABLES ---
    let allVideos = [];
    const ITEMS_PER_PAGE = 12; // 3 rows of 4 or 4 rows of 3
    let currentPage = 1;

    // --- FETCH DATA FROM VIDEO.JSON ---
    async function fetchVideos() {
        try {
            // Load from video.json instead of prompts.json
            const response = await fetch('video.json?v=' + new Date().getTime());
            const data = await response.json();
            
            // Assuming the JSON structure is { "items": [ ... ] } or just an array
            // If data is just an array, use data directly. If it has a root key, use that.
            const items = data.items || data;
            
            if (Array.isArray(items)) {
                allVideos = items.reverse(); // Newest first
                renderGrid(currentPage);
            } else {
                console.error("Format error in JSON");
            }
        } catch (error) {
            console.error("Error loading videos:", error);
            document.getElementById('video-grid').innerHTML = '<p class="text-white text-center col-span-3">Loading Failed. Check console.</p>';
        }
    }

    // --- RENDER GRID ---
    function renderGrid(page) {
        const grid = document.getElementById('video-grid');
        grid.innerHTML = '';
        
        const totalPages = Math.ceil(allVideos.length / ITEMS_PER_PAGE);
        const start = (page - 1) * ITEMS_PER_PAGE;
        const end = start + ITEMS_PER_PAGE;
        const items = allVideos.slice(start, end);

        if (items.length === 0) {
            grid.innerHTML = '<p class="text-gray-500 text-center col-span-2 md:col-span-3">No videos added yet.</p>';
            return;
        }

        items.forEach(item => {
            const card = document.createElement('div');
            // Added aspect-[9/16] for vertical layout
            card.className = 'prompt-card bg-gray-900 group cursor-pointer aspect-[9/16] relative rounded-sm';
            card.onclick = () => openModal(item);
            
            // Using <video> tag for grid items
            // muted loop playsinline autoplay allows it to move without sound
            // object-cover ensures it fills the vertical card nicely
            card.innerHTML = `
                <video 
                    src="${item.video}" 
                    class="w-full h-full object-cover" 
                    muted loop playsinline autoplay
                ></video>
                
                <div class="absolute bottom-0 left-0 w-full p-4 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300 z-20">
                    <span class="inline-block px-2 py-0.5 bg-pink-600 text-white text-[10px] font-bold tracking-wider mb-1">${item.tool}</span>
                    <h3 class="text-white font-mono text-sm truncate shadow-black drop-shadow-md">${item.title}</h3>
                </div>
            `;
            grid.appendChild(card);
        });

        updatePaginationControls(totalPages);
        
        if(page !== 1) {
            document.getElementById('video-grid').scrollIntoView({ behavior: 'smooth' });
        }
    }

    function updatePaginationControls(totalPages) {
        const indicator = document.getElementById('page-indicator');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');

        if (totalPages === 0) totalPages = 1;

        indicator.innerText = `PAGE ${currentPage} / ${totalPages}`;
        prevBtn.disabled = currentPage === 1;
        nextBtn.disabled = currentPage === totalPages || totalPages === 0;
    }

    function changePage(direction) {
        const totalPages = Math.ceil(allVideos.length / ITEMS_PER_PAGE);
        const newPage = currentPage + direction;
        if (newPage >= 1 && newPage <= totalPages) {
            currentPage = newPage;
            renderGrid(currentPage);
        }
    }

    // --- MODAL LOGIC ---
    const modal = document.getElementById('videoModal');
    const modalVideo = document.getElementById('modalVideoPlayer');
    const modalTitle = document.getElementById('modalTitle');
    const modalTool = document.getElementById('modalTool');
    const modalPrompt = document.getElementById('modalPrompt');

    function openModal(item) {
        modalVideo.src = item.video;
        modalTitle.innerText = item.title;
        modalTool.innerText = item.tool;
        modalPrompt.innerText = item.prompt;
        
        modal.classList.remove('hidden');
        
        // Auto play when modal opens
        setTimeout(() => {
             modalVideo.play().catch(e => console.log("Auto-play prevented"));
        }, 100);

        setTimeout(() => {
            modal.querySelector('div.relative').classList.add('scale-100');
            modal.querySelector('div.relative').classList.remove('scale-95');
        }, 10);
    }

    function closeModal() {
        // Pause video when closing
        modalVideo.pause();
        modalVideo.src = ""; // Clear source to stop buffering
        
        modal.classList.add('hidden');
    }

    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeModal();
    });

    // --- COPY FUNCTIONALITY ---
    function copyPrompt() {
        const text = document.getElementById('modalPrompt').innerText;
        navigator.clipboard.writeText(text).then(() => {
            showToast();
        }).catch(err => {
            // Fallback
            const textArea = document.createElement("textarea");
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand("copy");
            document.body.removeChild(textArea);
            showToast();
        });
    }

    function showToast() {
        const toast = document.getElementById('toast');
        toast.classList.remove('opacity-0', 'translate-y-10');
        setTimeout(() => {
            toast.classList.add('opacity-0', 'translate-y-10');
        }, 2000);
    }

    // --- START APP ---
    fetchVideos();
    </script>
</body>
</html>